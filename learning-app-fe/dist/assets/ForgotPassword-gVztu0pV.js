import{r as a,U as g,u as b,j as e,L as p,i as j}from"./index-DOHiL2hy.js";import{u as w}from"./index.esm-DTng5uxP.js";const y=()=>{const[l,n]=a.useState(!1),{profile:r}=a.useContext(g),u=b();a.useEffect(()=>{r&&u("/learning")},[r]);const{register:x,handleSubmit:f,setFocus:i,formState:{errors:o,isSubmitting:h}}=w();a.useEffect(()=>{i("email")},[i]);const d=async t=>{var m,c;if(t)try{await j.post("users/forgot_password",t).then(s=>{n("Mật khẩu đã được gửi vào email của bạn")})}catch(s){n((c=(m=s==null?void 0:s.response)==null?void 0:m.data)==null?void 0:c.message)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex h-screen w-full items-center justify-center bg-gradient-to-r from-pink-400 to-blue-600",children:[e.jsx("div",{className:"relative flex justify-center items-center h-screen"}),e.jsxs("div",{className:"flex h-auto w-[35rem] flex-col bg-white p-6",children:[e.jsxs("div",{className:"mb-5 flex w-full",children:[e.jsx("img",{src:"/images/pngtree.png",className:"w-[8rem] lazyload"}),e.jsx("p",{className:"ml-3 flex items-center justify-center text-3xl font-bold font-noto",children:"Chào mừng bạn tới Duylingo"})]}),e.jsxs("form",{onSubmit:f(d),children:[e.jsx("input",{...x("email",{required:"Nhập email của bạn",validate:t=>t.match(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/)?!0:"Vui lòng nhập đúng email của bạn"}),type:"text",placeholder:"Nhập email của bạn để lấy lại mật khẩu",name:"email",className:"mb-[1rem] w-full border border-inherit p-4 pl-3 outline-none font-noto"}),e.jsx("br",{}),o.email&&e.jsx("p",{className:"mb-2 text-red-500",children:o.email.message}),l&&e.jsx("p",{className:"mb-2 w-full text-left text-xl text-red-500 font-noto",children:l}),e.jsx("button",{className:"h-16 w-full bg-gradient-to-r from-pink-400 to-blue-600 p-2 text-2xl font-bold text-white hover:text-black",children:h?"Đang gửi...":"Lấy lại mật khẩu"})]}),e.jsx("button",{className:"mt-2 h-16 w-full bg-[#597bf7] p-2 text-2xl font-bold text-white hover:text-black",children:e.jsx(p,{to:"/login",children:"Đăng Nhập"})})]})]})})};export{y as default};
